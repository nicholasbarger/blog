{"id":"someday-i-need-to-write-a-js-library","title":"Someday I Need to Write a JS Library","description":"","link":"http://nicholasbarger.com/2008/10/21/someday-i-need-to-write-a-js-library/","pubDate":"2008-10-21T18:33:12.000Z","content":"<p>Unfortunately, I've never sat down and written a full blown out JS library; at least not in a really clean and reusable way.  However, I do have a few custom Javascript functions that I tend to use in several projects.</p>    <p>The majority of these can be found by doing a quick search on google or some equivalent; but I figured I could keep them here for an easy find and if anyone else happened upon them they might be useful as a small collection.</p>        <h2>Javascript Cookie Management</h2><div class=\"js_block\"><pre>//create cookiefunction createCookie(name,value,mins) {if (mins) {\tvar date = new Date();\tdate.setTime(date.getTime()+(mins*60*1000));\tvar expires = \"; expires=\"+date.toGMTString();}else var expires = \"\";document.cookie = name+\"=\"+value+expires+\"; path=/\";}//read cookiefunction readCookie(name) {var nameEQ = name + \"=\";var ca = document.cookie.split(';');for(var i=0;i &lt; ca.length;i++) {\tvar c = ca[i];\twhile (c.charAt(0)==&#039; &#039;) c = c.substring(1,c.length);\tif (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);}return null;}//erase cookiefunction eraseCookie(name) {createCookie(name,&quot;&quot;,-1);}</pre></div>        <h2>String Manipulation</h2><div class=\"js_block\"><pre>function inStr(strSearch, charSearchFor) {for (i=0; i &lt; len(strSearch); i++){    if (charSearchFor == mid(strSearch, i, len(charSearchFor)))    {\t\treturn i;    }}return -1;}function len(str) {    return String(str).length;}function mid(str, start, len) {    if (start &lt; 0 || len  iLen) {        iEnd = iLen;    }    else {        iEnd = start + len;    }        return String(str).substring(start,iEnd);}function left(str, n) {    if (n  String(str).length) {  // Invalid bound, return        return str;                // entire string    }    else { // Valid bound, return appropriate substring        return String(str).substring(0,n);    }}function right(str, n) {    if (n  String(str).length) {  // Invalid bound, return        return str;                     // entire string    }        else { // Valid bound, return appropriate substring        var iLen = String(str).length;        return String(str).substring(iLen, iLen - n);    }}</pre></div><h2>Page Navigation</h2><p><i>This is really just shorthand for 99% of the popup pages that I would use when I called window.open().</i></p><div class=\"js_block\"><pre>function openPopup(page, width, height) {    window.open(page,'PopupWindow','width='+width+',height='+height+',resizable=no,scrollbars=no');}</pre></div>    <h2>Page/Form Input Helpers</h2><div class=\"js_block\"><pre>//**************************************************************////Makes input control (form control) a highlighted color.  Works//specifically for textboxes and textareas.////obj = \"this\" if being triggered by event or if null is passed //      or accepts an overload of any document control object.////className = name of css class for active input box.//--------------------------------------------------------------//function doActivateInput(obj) {    if(obj == \"[object Event]\" || obj == null) {        obj = this;    }        if(obj != null) {        obj.className=\"input_active\";    }}function doDeactivateInput(obj) {    if(obj == \"[object Event]\" || obj == null) {        obj = this;    }        if(obj != null) {        obj.className=\"\";    }}//**************************************************************////**************************************************************////Preloads images for a page to correct wait time when displaying //hidden/new images////imgPathArray = string array of img paths to preload //--------------------------------------------------------------//function preloadImages(imgPathArray) {    for(i=0;i&lt;imgPathArray.length;i++) {        var img = new Image();        img.src = imgPathArray[i];    }}//**************************************************************////**************************************************************////Helper function for adding textbox activate/inactivate event listeners////obj = the object (textbox/input box) to perform action on//--------------------------------------------------------------//function doHelperAddTextboxEventListeners(obj) {    if (obj.addEventListener) {       obj.addEventListener(\"focus\", function () {doActivateInput(this);}, false);       obj.addEventListener(\"blur\", function () {doDeactivateInput(this);}, false);     }     else if (obj.attachEvent) {       obj.onfocus = function () {doActivateInput(obj);};       obj.onblur = function () {doDeactivateInput(obj);};    }}//**************************************************************////**************************************************************////Helper function for adding buttons hover state event listeners////obj = the object (button) to perform action on//--------------------------------------------------------------//function doHelperAddButtonEventListeners(obj, activeImgPath, inactiveImgPath) {    if (obj.addEventListener) {       obj.addEventListener(\"mouseover\", function () {this.src=activeImgPath;}, false);       obj.addEventListener(\"focus\", function () {this.src=activeImgPath;}, false);       obj.addEventListener(\"mouseout\", function () {this.src=inactiveImgPath;}, false);       obj.addEventListener(\"blur\", function () {this.src=inactiveImgPath;}, false);       }     else if (obj.attachEvent) {       obj.onmouseover = function () {this.src=activeImgPath;};       obj.onfocus = function () {this.src=activeImgPath;};       obj.onmouseout = function () {this.src=inactiveImgPath;};       obj.onblur = function () {this.src=inactiveImgPath;};      }}//**************************************************************//</pre></div>    <h3>Check out Script.acul.us!</h3><p>For a really fun (and useful) Javascript library try out: <a href=\"http://script.aculo.us/\" target=\"_blank\">Script.aculo.us</a>, which does a wide range of client-side effects to really provide a richer UI and better web-applications.</p>"}